{"version":3,"sources":["components/API/API.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["MY_KEY","BASE_URL","FetchAPI","searchInput","page","fetch","then","response","json","SearchBar","onSubmit","useState","setSearchInput","className","e","preventDefault","data","arrayImg","hits","finally","type","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","map","i","src","webformatURL","alt","tags","largeImageURL","id","ImageGallery","openModal","onClick","ButtonLoadMore","loadMore","setPage","loader","setLoader","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","children","closeModal","code","nodeName","useEffect","window","addEventListener","createPortal","App","setArrayImg","modalImg","setModalImg","showModal","setShowModal","scrollTo","top","documentElement","scrollHeight","behavior","closeModalEsc","removeEventListener","dataset","large","length","moreImg","ReactDOM","render","StrictMode","getElementById"],"mappings":"0OAAMA,G,MAAS,sCACTC,EAAW,2BAEF,SAASC,EAASC,GAAwB,IAAXC,EAAU,uDAAH,EACnD,OAAOC,MAAM,GAAD,OACPJ,EADO,cACOE,EADP,iBAC2BC,EAD3B,gBACuCJ,EADvC,yDAEVM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,U,WCFf,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAsCC,mBAAS,IAA/C,mBAAOR,EAAP,KAAoBS,EAApB,KAmBA,OACE,wBAAQC,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaH,SAnBd,SAAAI,GACjBA,EAAEC,iBAEFb,EAASC,GACNG,MAAK,SAAAU,GAAI,OACRN,EAAS,CACPO,SAAUD,EAAKE,KACff,YAAaA,OAGhBgB,QAAQP,EAAe,MASxB,UACE,wBAAQQ,KAAK,SAASP,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVQ,MAAOlB,EACPiB,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAlBU,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACnBd,EAAec,EAAOL,eCrBX,SAASM,EAAT,GAab,OAbqD,EAAZV,SACjBW,KAAI,SAAAC,GAC1B,OACE,oBAAIhB,UAAU,mBAAd,SACE,qBACEiB,IAAKD,EAAEE,aACPC,IAAKH,EAAEI,KACPpB,UAAU,yBACV,aAAYgB,EAAEK,iBALoBL,EAAEM,OCA/B,SAASC,EAAT,GAAgD,IAAxBnB,EAAuB,EAAvBA,SAAUoB,EAAa,EAAbA,UAC/C,OACE,oBAAIxB,UAAU,eAAeyB,QAASD,EAAtC,SACE,cAACV,EAAD,CAAkBV,SAAUA,M,oBCDnB,SAASsB,EAAT,GAAoD,IAA1BpC,EAAyB,EAAzBA,YAAaqC,EAAY,EAAZA,SACpD,EAAwB7B,mBAAS,GAAjC,mBAAOP,EAAP,KAAaqC,EAAb,KACA,EAA4B9B,oBAAS,GAArC,mBAAO+B,EAAP,KAAeC,EAAf,KAWA,OAAID,ECdF,qBAAK7B,UAAU,SAAf,SACE,cAAC,IAAD,CACEO,KAAK,WACLwB,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,QDYVL,OAAL,EAEI,qBAAK7B,UAAU,gBAAf,SACE,wBAAQA,UAAU,SAASO,KAAK,SAASkB,QAhB3B,WAClBK,GAAU,GAEVzC,EAASC,EAAaC,EAAO,GAC1BE,MAAK,SAAAU,GAAI,OAAIwB,EAASxB,EAAKE,SAC3BZ,KAAKmC,EAAQrC,EAAO,IACpBe,QAAQwB,GAAU,KAUjB,yBEtBR,IAAMK,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAuC,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACjCC,EAAa,SAAbA,EAAaxC,GACjB,IAAQY,EAAiBZ,EAAjBY,OAEK,WAFYZ,EAATyC,MAGdH,EAAQE,GAGc,QAApB5B,EAAO8B,UACTJ,EAAQE,IASZ,OALAG,qBAAU,WACRC,OAAOC,iBAAiB,UAAWL,KAElC,IAEIM,uBACL,qBAAK/C,UAAU,UAAUyB,QAASgB,EAAlC,SACE,qBAAKzC,UAAU,QAAf,SAAwBwC,MAE1BL,GCgCWa,MApDf,WACE,MAAgClD,mBAAS,IAAzC,mBAAOM,EAAP,KAAiB6C,EAAjB,KACA,EAAgCnD,mBAAS,IAAzC,mBAAOoD,EAAP,KAAiBC,EAAjB,KACA,EAAkCrD,oBAAS,GAA3C,mBAAOsD,EAAP,KAAkBC,EAAlB,KACA,EAAsCvD,mBAAS,IAA/C,mBAAOR,EAAP,KAAoBS,EAApB,KAgCA,OA9BA6C,qBAAU,WACRC,OAAOS,SAAS,CACdC,IAAKnB,SAASoB,gBAAgBC,aAC9BC,SAAU,aAEX,CAACtD,IA0BF,qCACGgD,GACC,cAACd,EAAD,CAAOC,QAjBO,SAAAoB,GAClBN,GAAcD,GACdP,OAAOe,oBAAoB,UAAWD,IAelC,SACE,qBAAK1C,IAAKiC,EAAU/B,IAAI,OAG5B,cAACvB,EAAD,CAAWC,SA9BE,SAAC,GAA+B,IAA7BO,EAA4B,EAA5BA,SAAUd,EAAkB,EAAlBA,YAC5B2D,EAAY7C,GACZL,EAAeT,MA6Bb,cAACiC,EAAD,CAAcnB,SAAUA,EAAUoB,UAjBpB,SAAAvB,GAChB,MAA8BA,EAAEY,OAAxBgD,EAAR,EAAQA,QAES,QAFjB,EAAiBlB,WAGfQ,EAAYU,EAAQC,OACpBT,GAAcD,OAaO,IAApBhD,EAAS2D,QACR,cAACrC,EAAD,CAAgBpC,YAAaA,EAAaqC,SA5B/B,SAAAqC,GACff,EAAY,GAAD,mBAAK7C,GAAL,YAAkB4D,YCpBjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF/B,SAASgC,eAAe,W","file":"static/js/main.b65e3d72.chunk.js","sourcesContent":["const MY_KEY = '23120149-b9b49e6d85d17734323f46136';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport default function FetchAPI(searchInput, page = 1) {\r\n  return fetch(\r\n    `${BASE_URL}?q=${searchInput}&page=${page}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.json());\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport FetchAPI from '../API/API';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [searchInput, setSearchInput] = useState('');\r\n\r\n  const formSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    FetchAPI(searchInput)\r\n      .then(data =>\r\n        onSubmit({\r\n          arrayImg: data.hits,\r\n          searchInput: searchInput,\r\n        }),\r\n      )\r\n      .finally(setSearchInput(''));\r\n  };\r\n\r\n  const inputForm = ({ target }) => {\r\n    setSearchInput(target.value);\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={formSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          value={searchInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={inputForm}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","export default function ImageGalleryItem({ arrayImg }) {\r\n  const markup = arrayImg.map(i => {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" key={i.id}>\r\n        <img\r\n          src={i.webformatURL}\r\n          alt={i.tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          data-large={i.largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n  return markup;\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ arrayImg, openModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\" onClick={openModal}>\r\n      <ImageGalleryItem arrayImg={arrayImg} />\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  arrayImg: PropTypes.array,\r\n  openModal: PropTypes.func,\r\n};\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport LoaderCircle from '../Loader/Loader';\r\nimport FetchAPI from '../API/API';\r\n\r\nexport default function ButtonLoadMore({ searchInput, loadMore }) {\r\n  const [page, setPage] = useState(1);\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const loadMoreBtn = () => {\r\n    setLoader(true);\r\n\r\n    FetchAPI(searchInput, page + 1)\r\n      .then(data => loadMore(data.hits))\r\n      .then(setPage(page + 1))\r\n      .finally(setLoader(false));\r\n  };\r\n\r\n  if (loader) {\r\n    return LoaderCircle();\r\n  }\r\n\r\n  if (!loader) {\r\n    return (\r\n      <div className=\"Btn_load-more\">\r\n        <button className=\"Button\" type=\"button\" onClick={loadMoreBtn}>\r\n          Load more\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nButtonLoadMore.propTypes = {\r\n  searchInput: PropTypes.string,\r\n  loadMore: PropTypes.func,\r\n};\r\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function LoaderCircle() {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={50}\r\n        width={50}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  const closeModal = e => {\r\n    const { target, code } = e;\r\n\r\n    if (code === 'Escape') {\r\n      onClose(closeModal);\r\n    }\r\n\r\n    if (target.nodeName !== 'IMG') {\r\n      onClose(closeModal);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeModal);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={closeModal}>\r\n      <div className=\"Modal\">{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport SearchBar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ButtonLoadMore from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nfunction App() {\r\n  const [arrayImg, setArrayImg] = useState([]);\r\n  const [modalImg, setModalImg] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [searchInput, setSearchInput] = useState('');\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [arrayImg]);\r\n\r\n  const onSubmit = ({ arrayImg, searchInput }) => {\r\n    setArrayImg(arrayImg);\r\n    setSearchInput(searchInput);\r\n  };\r\n\r\n  const loadMore = moreImg => {\r\n    setArrayImg([...arrayImg, ...moreImg]);\r\n  };\r\n\r\n  const toggleModal = closeModalEsc => {\r\n    setShowModal(!showModal);\r\n    window.removeEventListener('keydown', closeModalEsc);\r\n  };\r\n\r\n  const openModal = e => {\r\n    const { dataset, nodeName } = e.target;\r\n\r\n    if (nodeName === 'IMG') {\r\n      setModalImg(dataset.large);\r\n      setShowModal(!showModal);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal && (\r\n        <Modal onClose={toggleModal}>\r\n          <img src={modalImg} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n      <SearchBar onSubmit={onSubmit} />\r\n      <ImageGallery arrayImg={arrayImg} openModal={openModal} />\r\n      {arrayImg.length !== 0 && (\r\n        <ButtonLoadMore searchInput={searchInput} loadMore={loadMore} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}