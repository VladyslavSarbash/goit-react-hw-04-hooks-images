(this["webpackJsonpreact-config-hw"]=this["webpackJsonpreact-config-hw"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=(a(14),a(15),a(8)),i=a(3),l=(a(16),"23120149-b9b49e6d85d17734323f46136"),u="https://pixabay.com/api/";function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(u,"?q=").concat(e,"&page=").concat(t,"&key=").concat(l,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}var b=a(1);function m(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),j(r).then((function(e){return t({arrayImg:e.hits,searchInput:r})})).finally(o(""))},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",value:r,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target;o(t.value)}})]})})}function d(e){return e.arrayImg.map((function(e){return Object(b.jsx)("li",{className:"ImageGalleryItem",children:Object(b.jsx)("img",{src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image","data-large":e.largeImageURL})},e.id)}))}function h(e){var t=e.arrayImg,a=e.openModal;return Object(b.jsx)("ul",{className:"ImageGallery",onClick:a,children:Object(b.jsx)(d,{arrayImg:t})})}var O=a(9),f=a.n(O);function p(e){var t=e.searchInput,a=e.loadMore,n=Object(c.useState)(1),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(c.useEffect)((function(){1!==o&&(d(!0),j(t,o).then((function(e){return a(e.hits)})).finally(d(!1)))}),[o]),m?Object(b.jsx)("div",{className:"Loader",children:Object(b.jsx)(f.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50,timeout:3e3})}):m?void 0:Object(b.jsx)("div",{className:"Btn_load-more",children:Object(b.jsx)("button",{className:"Button",type:"button",onClick:function(){return s(o+1)},children:"Load more"})})}var g=document.querySelector("#modal-root");function v(e){var t=e.onClose,a=e.children,n=function e(a){var c=a.target;"Escape"===a.code&&t(e),"IMG"!==c.nodeName&&t(e)};return Object(c.useEffect)((function(){window.addEventListener("keydown",n)}),[]),Object(r.createPortal)(Object(b.jsx)("div",{className:"Overlay",onClick:n,children:Object(b.jsx)("div",{className:"Modal",children:a})}),g)}var x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),O=d[0],f=d[1],g=Object(c.useState)(""),x=Object(i.a)(g,2),y=x[0],S=x[1];return Object(c.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a]),Object(b.jsxs)(b.Fragment,{children:[O&&Object(b.jsx)(v,{onClose:function(e){f(!O),window.removeEventListener("keydown",e)},children:Object(b.jsx)("img",{src:l,alt:""})}),Object(b.jsx)(m,{onSubmit:function(e){var t=e.arrayImg,a=e.searchInput;n(t),S(a)}}),Object(b.jsx)(h,{arrayImg:a,openModal:function(e){var t=e.target,a=t.dataset;"IMG"===t.nodeName&&(u(a.large),f(!O))}}),0!==a.length&&Object(b.jsx)(p,{searchInput:y,loadMore:function(e){n([].concat(Object(s.a)(a),Object(s.a)(e)))}})]})};o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.ef53ebb1.chunk.js.map