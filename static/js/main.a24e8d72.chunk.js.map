{"version":3,"sources":["components/API/API.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["MY_KEY","BASE_URL","FetchAPI","searchInput","page","fetch","then","response","json","SearchBar","onSubmit","setPage","useState","setSearchInput","className","e","preventDefault","data","arrayImg","hits","finally","type","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","map","i","src","webformatURL","alt","tags","largeImageURL","id","ImageGallery","openModal","onClick","ButtonLoadMore","loadMore","loader","setLoader","useEffect","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","children","closeModal","code","nodeName","window","addEventListener","createPortal","App","setArrayImg","modalImg","setModalImg","showModal","setShowModal","scrollTo","top","documentElement","scrollHeight","behavior","closeModalEsc","removeEventListener","dataset","large","length","moreImg","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a24e8d72.chunk.js","sourcesContent":["const MY_KEY = '23120149-b9b49e6d85d17734323f46136';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport default function FetchAPI(searchInput, page = 1) {\r\n  return fetch(\r\n    `${BASE_URL}?q=${searchInput}&page=${page}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.json());\r\n}\r\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport FetchAPI from '../API/API';\n\nexport default function SearchBar({ onSubmit, setPage }) {\n  const [searchInput, setSearchInput] = useState('');\n\n  const formSubmit = e => {\n    e.preventDefault();\n\n    FetchAPI(searchInput)\n      .then(data =>\n        onSubmit({\n          arrayImg: data.hits,\n          searchInput: searchInput,\n        }),\n      )\n      .finally(() => {\n        setPage(1);\n        setSearchInput('');\n      });\n  };\n\n  const inputForm = ({ target }) => {\n    setSearchInput(target.value);\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={formSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          value={searchInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={inputForm}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","export default function ImageGalleryItem({ arrayImg }) {\r\n  const markup = arrayImg.map(i => {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" key={i.id}>\r\n        <img\r\n          src={i.webformatURL}\r\n          alt={i.tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          data-large={i.largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n  return markup;\r\n}\r\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ arrayImg, openModal }) {\n  return (\n    <ul className=\"ImageGallery\" onClick={openModal}>\n      <ImageGalleryItem arrayImg={arrayImg} />\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  arrayImg: PropTypes.array,\n  openModal: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport LoaderCircle from '../Loader/Loader';\nimport FetchAPI from '../API/API';\n\nexport default function ButtonLoadMore({\n  searchInput,\n  loadMore,\n  page,\n  setPage,\n}) {\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setLoader(true);\n\n    FetchAPI(searchInput, page)\n      .then(data => loadMore(data.hits))\n      .finally(setLoader(false));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  if (loader) {\n    return LoaderCircle();\n  }\n\n  if (!loader) {\n    return (\n      <div className=\"Btn_load-more\">\n        <button\n          className=\"Button\"\n          type=\"button\"\n          onClick={() => setPage(page + 1)}\n        >\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n\nButtonLoadMore.propTypes = {\n  searchInput: PropTypes.string,\n  loadMore: PropTypes.func,\n};\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function LoaderCircle() {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={50}\r\n        width={50}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  const closeModal = e => {\n    const { target, code } = e;\n\n    if (code === 'Escape') {\n      onClose(closeModal);\n    }\n\n    if (target.nodeName !== 'IMG') {\n      onClose(closeModal);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('keydown', closeModal);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={closeModal}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport SearchBar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ButtonLoadMore from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nfunction App() {\n  const [arrayImg, setArrayImg] = useState([]);\n  const [modalImg, setModalImg] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [searchInput, setSearchInput] = useState('');\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }, [arrayImg]);\n\n  const onSubmit = ({ arrayImg, searchInput }) => {\n    setArrayImg(arrayImg);\n    setSearchInput(searchInput);\n  };\n\n  const loadMore = moreImg => {\n    setArrayImg([...arrayImg, ...moreImg]);\n  };\n\n  const toggleModal = closeModalEsc => {\n    setShowModal(!showModal);\n    window.removeEventListener('keydown', closeModalEsc);\n  };\n\n  const openModal = e => {\n    const { dataset, nodeName } = e.target;\n\n    if (nodeName === 'IMG') {\n      setModalImg(dataset.large);\n      setShowModal(!showModal);\n    }\n  };\n\n  return (\n    <>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={modalImg} alt=\"\" />\n        </Modal>\n      )}\n      <SearchBar onSubmit={onSubmit} setPage={setPage} />\n      <ImageGallery arrayImg={arrayImg} openModal={openModal} />\n      {arrayImg.length !== 0 && (\n        <ButtonLoadMore\n          searchInput={searchInput}\n          loadMore={loadMore}\n          page={page}\n          setPage={setPage}\n        />\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}